<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atualização de Passeio</title>
    <link rel="stylesheet" href="http://localhost:3000/css/style.css">
    <script src="http://localhost:3000/js/validador.js"></script> 
</head>
<body>
    <header>
        <h1>Atualização de Passeio</h1>
    </header>
    <main>
        <form name="atualizar" action="/passeios/formAtualiza/atualizar?_method=PUT" method="post">
            <input type="hidden" name="id" value="<%= passeio.id %>" >
            <label for="local">Local: </label>
            <input type="text" name="local" id="local" value="<%= passeio.local %>" placeholder="Qual destino?" required>
            <label for="valor">Valor (R$): </label>
            <input type="number" id="valor" name="valor" step="0.01" min="0" value="<%= passeio.valor %>" placeholder="R$ 0,00" oninput="formatarMoeda(this)" required>
            <label for="vagas">Número de vagas: </label>
            <input type="number" value="<%= passeio.vagas %>" name="vagas" id="vagas" required>
            <label for="tipo">Tipo de passeio: </label>
            <select value="<%= passeio.tipo %>" name="tipo" id="tipo">
                <option value="..."></option>
                <option value="aventura">Aventura</option>
                <option value="romantico">Romântico</option>
                <option value="cultural">Cultural</option>
                <option value="gastronomico">Gastronômico</option>
                <option value="outros">Outros</option>
            </select>

            <label>Idioma que será conduzido: </label>
            <input type="radio" name="idioma"value="<%= passeio.idioma %>" id="ingles"><label for="ingles">Inglês</label>
            <input type="radio" name="idioma"value="<%= passeio.idioma %>" id="espanhol"><label for="espanhol">Espanhol</label>
            <input type="radio" name="idioma"value="<%= passeio.idioma %>" id="portugues"><label for="portugues">Português</label>

            <label for="guia">Guia Responsável:</label>
            <input type="text" name="guia" value="<%= passeio.guia %>" id="guia">

            <label>Serviços inclusos: </label>
                <div class="servico">
                    <input type="checkbox" name="servico"value="<%= passeio.servico%>" id="transporte">
                    <label for="transporte">Transporte</label>
                    <input type="checkbox" name="servico" value="<%= passeio.servico %>" id="alimentacao">
                    <label for="alimentacao">Alimentação completa</label>
                    <input type="checkbox" name="servico"value="<%= passeio.servico %>" id="cafedamanha">
                    <label for="cafedamanha">Apenas Café da Manhã</label>
                    <input type="checkbox" name="servico"value="<%= passeio.servico %>" id="almoco">
                    <label for="almoco">Apenas Almoço</label>
                    <input type="checkbox" name="servico"value="<%= passeio.servico %>" id="fotografia">
                    <label for="fotografia">Pacote de fotos</label>
                    <input type="checkbox" name="servico"value="<%= passeio.servico %>" id="primeirossocorros">
                    <label for="primeirossocorros">Kit de primeiros socorros</label>
                    <input type="checkbox" name="servico"value="<%= passeio.servico %>" id="equipamentos">
                    <label for="equipamentos">Equipamentos extras</label>
                    <input type="checkbox" name="servico"value="<%= passeio.servico %>" id="lembrancas">
                    <label for="lembrancas">Lembranças ou Brindes</label>
                    <input type="checkbox" name="servico" value="<%= passeio.servico %>"id="criancas">
                    <label for="criancas">Suporte para crianças</label>
                    <input type="checkbox" name="servico" value="<%= passeio.servico %>"id="interprete">
                    <label for="interprete">Tradução ou Intérprete</label>
                </div>
            <label for="descricao">Descrição: </label>
            <textarea name="descricao" id="descricao" placeholder="Detalhe sobre seu passeio"><%= passeio.descricao %></textarea>

            <input type="submit" value="Atualizar">
        </form>
    </main>
    <footer>
        <ul>
            <li><a href="http://localhost:3000/menuPrincipal.ejs">Voltar</a></li>
            <li><a href="http://localhost:3000/formConsulta.ejs">Consultar Passeios</a></li>
        </ul>
    </footer>
    <script>
        function formatarMoeda(input) {
            let valor = input.value;
  
            valor = valor.replace(/\D/g, "");
  
            valor = (valor / 100).toFixed(2) + "";
            valor = valor.replace(".", ",");
            valor = valor.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1.");

            input.value = "R$ " + valor;
        }
  
    </script>
</body>
</html>